if (self.CavalryLogger) { CavalryLogger.start_js(["zXnKj"]); }

__d("EventMessageFriendsAttachment_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"size__height",value:132},{kind:"Literal",name:"size__width",value:70}],b=[{alias:"src",args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EventMessageFriendsAttachment_event",selections:[{alias:"entityPhoto",args:a,concreteType:"Image",kind:"LinkedField",name:"entity_card_image",plural:!1,selections:b,storageKey:"entity_card_image(size__height:132,size__width:70)"},{alias:"coverPhoto",args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:b,storageKey:"image(size__height:132,size__width:70)"}],storageKey:null}],storageKey:null},{alias:"startTimestamp",args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},{args:null,kind:"FragmentSpread",name:"HybridRowTitle_event"},{args:null,kind:"FragmentSpread",name:"HybridRowSubtitle_event"},{args:null,kind:"FragmentSpread",name:"EventRowSocialContext_event"}],type:"Event",abstractKey:null}}();e.exports=a}),null);
__d("EventMessageFriendsCardQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"eventID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"eventID"}],c=[{kind:"Literal",name:"size__height",value:132},{kind:"Literal",name:"size__width",value:70}],d=[{alias:"src",args:null,kind:"ScalarField",name:"uri",storageKey:null}],e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EventMessageFriendsCardQuery",selections:[{alias:null,args:b,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"EventMessageFriendsAttachment_event"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EventMessageFriendsCardQuery",selections:[{alias:null,args:b,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{alias:"entityPhoto",args:c,concreteType:"Image",kind:"LinkedField",name:"entity_card_image",plural:!1,selections:d,storageKey:"entity_card_image(size__height:132,size__width:70)"},{alias:"coverPhoto",args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:c,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:"image(size__height:132,size__width:70)"},e],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],storageKey:null},{alias:"startTimestamp",args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},{alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"isInvited",args:null,kind:"ScalarField",name:"viewer_has_pending_invite",storageKey:null},{alias:"title",args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"entityImage",args:[{kind:"Literal",name:"height",value:159},{kind:"Literal",name:"width",value:370}],concreteType:"Image",kind:"LinkedField",name:"entity_card_image",plural:!1,selections:d,storageKey:"entity_card_image(height:159,width:370)"},{alias:"isCanceled",args:null,kind:"ScalarField",name:"is_canceled",storageKey:null},{alias:"isDraft",args:null,kind:"ScalarField",name:"is_event_draft",storageKey:null},{alias:"kind",args:null,kind:"ScalarField",name:"event_kind",storageKey:null},{alias:"isPast",args:null,kind:"ScalarField",name:"is_past",storageKey:null},{alias:"viewerCapability",args:null,concreteType:"EventViewerCapability",kind:"LinkedField",name:"event_viewer_capability",plural:!1,selections:[{alias:"canInvite",args:null,kind:"ScalarField",name:"can_viewer_invite",storageKey:null},{alias:"canShare",args:null,kind:"ScalarField",name:"can_viewer_share",storageKey:null}],storageKey:null},{alias:"parentGroup",args:null,concreteType:"Group",kind:"LinkedField",name:"parent_group",plural:!1,selections:[{alias:"groupID",args:null,kind:"ScalarField",name:"group_id",storageKey:null},e],storageKey:null},{alias:"viewer",args:null,concreteType:null,kind:"LinkedField",name:"event_viewer",plural:!1,selections:[f,e,{kind:"InlineFragment",selections:[{alias:"isWorkUser",args:null,kind:"ScalarField",name:"is_work_user",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:"connectionStyle",args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:"guestStatus",args:null,kind:"ScalarField",name:"viewer_guest_status",storageKey:null},{alias:"isHost",args:null,kind:"ScalarField",name:"is_viewer_host",storageKey:null},{alias:"canJoin",args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},{alias:"hasRemovedSelf",args:null,kind:"ScalarField",name:"viewer_has_removed_self",storageKey:null},{alias:"savedState",args:null,kind:"ScalarField",name:"viewer_saved_state",storageKey:null},{alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{alias:"socialMessage",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:"eventStartTimestamp",args:null,kind:"ScalarField",name:"current_start_timestamp",storageKey:null},{alias:"members",args:[{kind:"Literal",name:"connection_types",value:["GOING","INTERESTED"]}],concreteType:"EventConnectedUsersConnection",kind:"LinkedField",name:"event_connected_users",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:'event_connected_users(connection_types:["GOING","INTERESTED"])'},{alias:"place",args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[f,g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"city",plural:!1,selections:[g,e],storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[e],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:"isMeetup",args:null,kind:"ScalarField",name:"is_group_meet_up",storageKey:null},{alias:"dayTimeSentence",args:null,kind:"ScalarField",name:"day_time_sentence",storageKey:null},e],storageKey:null}]},params:{id:"3870161583026386",metadata:{},name:"EventMessageFriendsCardQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EventMessageFriendsActionsLogger",["EventsActionsLogger"],(function(a,b,c,d,e,f){"use strict";e.exports={logViewOnMessageFriendsCard:function(a,c){b("EventsActionsLogger").log(a,{type:b("EventsActionsLogger").Type.VIEW,target:b("EventsActionsLogger").Target.MESSAGE_FRIENDS_CARD,acontext:c})},logClickOnSendButton:function(a,c){b("EventsActionsLogger").log(a,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.MESSAGE_BUTTON,acontext:c})},logAddEntryAttempt:function(a,c){b("EventsActionsLogger").log(a,{type:b("EventsActionsLogger").Type.SELECT,target:b("EventsActionsLogger").Target.TYPEAHEAD_ENTRY,acontext:c})}}}),null);
__d("EventsDashboardFbtUtil",["fbt"],(function(a,b,c,d,e,f,g){e.exports={getUppercaseMonth:function(a){switch(a){case 0:return g._("JANUARY");case 1:return g._("FEBRUARY");case 2:return g._("MARCH");case 3:return g._("APRIL");case 4:return g._("MAY");case 5:return g._("JUNE");case 6:return g._("JULY");case 7:return g._("AUGUST");case 8:return g._("SEPTEMBER");case 9:return g._("OCTOBER");case 10:return g._("NOVEMBER");case 11:return g._("DECEMBER")}return null},getUppercaseAbbreviatedMonth:function(a){switch(a){case 0:return g._("JAN");case 1:return g._("FEB");case 2:return g._("MAR");case 3:return g._("APR");case 4:return g._("MAY");case 5:return g._("JUN");case 6:return g._("JUL");case 7:return g._("AUG");case 8:return g._("SEP");case 9:return g._("OCT");case 10:return g._("NOV");case 11:return g._("DEC")}return null}}}),null);
__d("EventMessageFriendsAttachment.react",["cx","BackgroundImage.react","DateBlock.react","EventRowSocialContext.react","EventRowTypes","EventsActionsLogger","EventsDashboardFbtUtil","HybridRowSubtitle.react","HybridRowTitle.react","ImageBlock.react","React","RelayModern","formatDate","EventMessageFriendsAttachment_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("EventRowTypes").EventRowType,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=70,l=132;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.event,d=a.viewerTimezone;a=a.hideAttachment;if(!c)return null;var e=c.coverPhoto,f=c.entityPhoto,g=c.startTimestamp,h=null;if(f&&e&&e.photo&&e.photo.image)h=j.jsx("div",{children:j.jsx(b("BackgroundImage.react"),{backgroundSize:"cover",height:k,src:f.src,width:l})});else{e=b("formatDate")(g,"j");f=b("formatDate")(g,"n");f=b("EventsDashboardFbtUtil").getUppercaseAbbreviatedMonth(f-1);f=f?f.toString():"";h=j.jsx("div",{children:j.jsx(b("DateBlock.react"),{day:e,month:f||b("formatDate")(g,"M"),size:"large"})})}return a?null:j.jsx("div",{className:"_27ul",children:j.jsxs(b("ImageBlock.react"),{children:[h,j.jsx("div",{className:"_4q4m",children:j.jsx("div",{children:j.jsxs("div",{className:"_27um",children:[j.jsx(b("HybridRowTitle.react"),{className:"_1lxs",event:c,mechanism:b("EventsActionsLogger").Mechanism.PERMALINK,viewerTimezone:d}),j.jsx(b("HybridRowSubtitle.react"),{event:c,type:i.SOON,viewerTimezone:d}),j.jsx(b("EventRowSocialContext.react"),{event:c})]})})})]})})};return c}(j.Component);e.exports=a(c,{event:h!==void 0?h:h=b("EventMessageFriendsAttachment_event.graphql")})}),null);
__d("EventMessageFriendsComposer.react",["cx","fbt","React","ReactComposerContextProviderMixin","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=b("createReactClass_DEPRECATED")({displayName:"EventMessageFriendsComposer",mixins:[b("ReactComposerContextProviderMixin")],render:function(){var a=h._("Add a message...");return i.jsx(b("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{className:"_2rnz",placeholder:a})}});e.exports=a}),null);
__d("ChatSearchSource",["AbstractSearchSource","AsyncRequest","Bootloader","CurrentUser","MessengerBootloadedSecondarySearchLogger","MessengerSearchFunnelLoggerConstants","MessengerSecondarySearchFunnelConstants","promiseDone","requireWeak","SearchableEntry","SearchSourceCallbackManager","ShortProfiles","TokenizeUtil","debounce","emptyFunction","isValidUniqueID"],(function(a,b,c,d,e,f){"use strict";var g=null;b("requireWeak")("OrderedFriendsList",function(a){g=a});a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$ChatSearchSource1=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:c.indexFn,searchType:c.searchType||""});d.$ChatSearchSource2=c.queryRequests||[];d.$ChatSearchSource3=c.searchType||"";d.$ChatSearchSource4=!1;d.$ChatSearchSource5=b("debounce")(d.$ChatSearchSource5,100,babelHelpers.assertThisInitialized(d));d.$ChatSearchSource6=c.excludeMemorializedUsers||!1;d.$ChatSearchSource7="";return d}var d=c.prototype;d.bootstrapImpl=function(a){var c=this;b("promiseDone")(b("ShortProfiles").fetchAll(),function(){c.$ChatSearchSource4=!0,c.$ChatSearchSource8(),a()})};d.searchImpl=function(a,b,c){var d=this,e=null,f={},g=c&&c.onQueryFinished,h=c&&c.onQueryStarted;h&&h(a);h=this.$ChatSearchSource1.search(a,function(c){!e?(e=c,e.forEach(function(a){return f[a.getUniqueID()]=!0})):c.forEach(function(a){var b=a.getUniqueID();f[b]||(e.push(a),f[b]=!0)}),b(e,a),a.length===1&&this.$ChatSearchSource4&&(g&&g(a))}.bind(this),c);if(!h||!this.$ChatSearchSource2||!this.$ChatSearchSource2.length||a.length===0){g&&g(a);return}if(a.length===1){this.$ChatSearchSource4&&(g&&g(a));return}var i={value:a,existing_ids:e&&e.map(function(a){return a.getUniqueID()}).join(","),limit:c&&c.threadLimit,exclude_memorialized_users:this.$ChatSearchSource6,logging_id:c&&c.loggingID},j=this.$ChatSearchSource2.length;this.$ChatSearchSource2.forEach(function(b){var c=Date.now();d.$ChatSearchSource5(i,b,function(b){b=d.$ChatSearchSource9(d.$ChatSearchSource10(b)).filter(function(a){return!!a});d.$ChatSearchSource11(a,b.length,c);d.$ChatSearchSource12(b,a);j--;j===0&&(d.$ChatSearchSource1.setQueryStringAsExhausted(a),g&&g(a))})},this)};d.getAllEntriesMap=function(){return this.$ChatSearchSource1.getAllEntries()};d.$ChatSearchSource11=function(a,c,d){var e=this;if(this.$ChatSearchSource3===b("MessengerSearchFunnelLoggerConstants").WWW_SIDEBAR_TAG){var f=Date.now();b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(b,g){b.logSourceEnded(a,g.SOURCES.SERVER,c,g.QUERY_PROGRESS.FINISHED),e.$ChatSearchSource13(b.getCurrentFunnelID(),d,f,a,c,"universal")},"ChatSearchSource")}else if(this.$ChatSearchSource3===b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST){var g;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:(g=b("MessengerSecondarySearchFunnelConstants")).EVENTS.SOURCE_ENDED,source:g.SOURCES.SERVER,query:a,numResults:c,status:g.SOURCE_STATUSES.FINISHED,loggingID:g.LOGGING_IDS.BROADCAST})}};d.$ChatSearchSource13=function(a,c,d,e,f,g){var h=this;b("Bootloader").loadModules(["MessengerSearchDataSourceLoadedEventTypedLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(b,i){new b().setSearchFunnelID(a).setStartTimeMs(c).setEndTimeMs(d).setQueryString(e).setDataSource(i.SOURCES.SERVER).setResultsCount(f).setLoadStatus(i.QUERY_PROGRESS.FINISHED).setIsResultUsed(h.$ChatSearchSource7===e).setSearchSurface(g).log()},"ChatSearchSource")};d.$ChatSearchSource8=function(){var a=b("ShortProfiles").getCachedProfileIDs();a=a.filter(function(a){var c=b("ShortProfiles").getNow(a);return a==b("CurrentUser").getID()||c.type==="friend"||c.type==="fb4c"});var c=a.map(this.$ChatSearchSource14);if(c.length){if(this.$ChatSearchSource3===b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST){var d;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:(d=b("MessengerSecondarySearchFunnelConstants")).EVENTS.SOURCE_ENDED,source:d.SOURCES.SHORT_PROFILES,query:"",ids:a,numResults:c.length,status:d.SOURCE_STATUSES.FINISHED,loggingID:d.LOGGING_IDS.BROADCAST})}this.$ChatSearchSource1.addLocalEntries(c)}};d.$ChatSearchSource9=function(a){return a.map(this.$ChatSearchSource15,this)};d.$ChatSearchSource15=function(a,c){if(a.mercury_thread)return!g?null:g.normalizeThreadEntry(a,c);var d=a.text,e=a.uid;if(!d||!b("isValidUniqueID")(e))return null;var f=g?g.getActiveRank(e):0;g&&!g.contains(e)&&(f+=c);return new(b("SearchableEntry"))({uniqueID:e,title:d,order:f,subtitle:a.subtext,type:a.render_type||a.type,photo:a.photo,uri:a.path,auxiliaryData:{isVerified:a.is_verified,isMessengerUser:a.is_messenger_user,alias:a.alias,workForeignEntityInfo:a.work_foreign_entity_info}})};d.$ChatSearchSource10=function(a){a=a.getPayload();if(Array.isArray(a))return a;else if(a&&a.entries)return a.entries;else return[]};d.$ChatSearchSource14=function(a){var c=b("ShortProfiles").getNow(a),d=a==b("CurrentUser").getID()?"friend":c.type,e=[c.additionalName,c.alternateName].concat(c.searchTokens||[]).join(" "),f=c.name,h=null;return new(b("SearchableEntry"))({uniqueID:a,title:f,order:g?g.getActiveRank(a):0,subtitle:h,keywordString:e,type:d,photo:c.thumbSrc,uri:c.uri,auxiliaryData:{isMessengerUser:c.is_messenger_user,alias:c.alias}})};d.$ChatSearchSource5=function(a,c,d,e){this.$ChatSearchSource3===b("MessengerSearchFunnelLoggerConstants").WWW_SIDEBAR_TAG&&a.value!==this.$ChatSearchSource7&&(b("Bootloader").loadModules(["MessengerSearchFunnelLogger","MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(c,d,e){c.logStartQuery(b("MessengerSearchFunnelLoggerConstants").NAME,a.value),d.logSourceStarted(a.value,e.SOURCES.SERVER)},"ChatSearchSource"),this.$ChatSearchSource7=a.value),new(b("AsyncRequest"))(c.uri).setData(babelHelpers["extends"]({},a,c.data)).setMethod("GET").setReadOnly(!0).setHandler(d).setErrorHandler(e||b("emptyFunction")).setAllowCrossPageTransition(!0).send()};d.$ChatSearchSource12=function(a,b){a.length&&this.$ChatSearchSource1.addQueryEntries(a,b)};d.addLocalEntries=function(a){this.$ChatSearchSource1.addLocalEntries(a)};d.refreshData=function(){b("ShortProfiles").fetchAll()};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("EventMessageFriendsTypeahead.react",["cx","fbt","ChatSearchSource","Grid.react","MessengerTypeaheadUtils","React","XUITokenizer.react","XUITokenizerToken.react","XUITypeaheadView.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("Grid.react").GridItem,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(a){return d.props.entries.length?b("MessengerTypeaheadUtils").sortEntriesWithoutGroupsOrViewer(a,d.props.userID):b("MessengerTypeaheadUtils").sortEntriesWithoutPages(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=new(b("ChatSearchSource"))({queryRequests:[{uri:"/ajax/mercury/composer_query.php"}]})};d.render=function(){var a=this.$2();return j.jsxs(b("Grid.react"),{cols:2,children:[j.jsx(i,{className:"_2apd",children:j.jsx("span",{className:"_2apj",children:h._("To:")})},"label"),j.jsx(i,{className:"_2ape",children:j.jsx(b("XUITokenizer.react"),{className:"_2aph"+(a?" _1p1w":""),entries:this.props.entries,placeholder:this.$3(),searchSource:this.$1,clearable:!0,onClear:this.props.onClickClearButton,onAddEntryAttempt:this.props.onAddEntryAttempt,onRemoveEntryAttempt:this.props.onRemoveEntryAttempt,onInputFocus:this.props.onFocus,disabled:a,presenter:{ViewRenderer:b("XUITypeaheadView.react"),TokenRenderer:b("XUITokenizerToken.react"),useLayer:!0,sortEntries:this.$4}})},"tokenizer")]})};d.$3=function(){return this.props.isWorkUser?h._("Choose colleagues"):h._("Choose friends")};d.$2=function(){var a=this.props.entries;return a.length===1&&a[0].getType()==="thread"};return c}(j.Component);e.exports=a}),null);
__d("EventMessageFriendsCard.react",["ix","cx","fbt","CurrentUser","EventMessageFriendsAttachment.react","EventMessageFriendsComposer.react","EventMessageFriendsTypeahead.react","Image.react","LeftRight.react","React","ReactComposerInit","ReactDOM","RelayFBEnvironment","RelayModern","XUIButton.react","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react","XUINotice.react","emptyFunction","fbglyph","EventMessageFriendsCardQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var m=j!==void 0?j:j=b("EventMessageFriendsCardQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$4=function(){c.state.isTypeaheadOrComposerFocused||c.setState({isTypeaheadOrComposerFocused:!0})};c.state={isTypeaheadOrComposerFocused:!1};return c}var d=c.prototype;d.getDefaultProps=function(){var a;return{onSend:a=b("emptyFunction"),onAddEntryAttempt:a,onRemoveEntryAttempt:a,onClearTypeahead:a}};d.componentDidMount=function(){this.$1()};d.$1=function(){b("ReactComposerInit").init(b("EventMessageFriendsComposer.react"),this.props,b("ReactDOM").findDOMNode(this.refs.composer))};d.render=function(){var a=this.props,c=a.entries,d=a.eventID,e=a.userID,f=a.viewerTimezone,h=a.onSend,j=a.onAddEntryAttempt,l=a.onRemoveEntryAttempt;a=a.onClearTypeahead;var m=!(c.length>0),n=!this.state.isTypeaheadOrComposerFocused;d=this.$2(d,f,n);this.props.sendingMessage?f=k.jsx(b("XUIButton.react"),{className:"_2q1f",label:i._("Sending"),disabled:!0,size:"large"}):f=k.jsx(b("XUIButton.react"),{className:"_2q1f",label:i._("Send"),disabled:m,size:"large",onClick:h});n=this.props.messageFailed?this.$3():null;b("CurrentUser").isWorkUser()?(m=g("114165"),h=i._("Share in Workplace Chat")):(m=g("112646"),h=i._("Share in Messenger"));return k.jsxs(b("XUICard.react"),{className:"_5-ra",children:[k.jsx(b("XUICardHeader.react"),{type:"primary",children:k.jsxs(b("XUICardHeaderTitle.react"),{className:"_2q07",children:[k.jsx(b("Image.react"),{className:"_2q08",src:m}),k.jsx("span",{children:h})]})}),k.jsxs(b("XUICardSection.react"),{className:"_2ph_",children:[n,k.jsx(b("EventMessageFriendsTypeahead.react"),{entries:c,userID:e,onAddEntryAttempt:j,onRemoveEntryAttempt:l,onClickClearButton:a,onFocus:this.$4,isWorkUser:b("CurrentUser").isWorkUser()}),k.jsxs("div",{className:"_2q1a",children:[k.jsx("div",{ref:"composer",onFocus:this.$4}),d]}),this.$5(f)]})]})};d.$2=function(a,c,d){return k.jsx(l,{environment:b("RelayFBEnvironment"),query:m,variables:{eventID:a},render:function(a){a.error;a=a.props;return!a?null:k.jsx(b("EventMessageFriendsAttachment.react"),{event:a.event,viewerTimezone:c,hideAttachment:d})}})};d.$5=function(a){return!this.state.isTypeaheadOrComposerFocused?null:k.jsxs(b("LeftRight.react"),{children:[k.jsx("div",{}),a]})};d.$3=function(){return k.jsx(b("XUINotice.react"),{className:"_4e2p",use:"warn",size:"medium",children:i._("This message didn't send. Please try again.")})};return c}(k.Component);e.exports=a}),null);
__d("XEventMessageFriendsSubmitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/event/messagefriends/submit/",{post_id:{type:"Int"},share_type:{type:"Int"},url:{type:"String"},audience_type:{type:"String"},owner_id:{type:"Int"},app_id:{type:"Int"},message:{type:"String"},shared_ad_id:{type:"Int"},sharer_id:{type:"Int"},source:{type:"String"},composer_session_id:{type:"String"},audience_targets:{type:"IntVector"},album_id:{type:"Int"},ephemeral_ttl_mode:{type:"Int"},tagged_people:{type:"IntVector"},tagged_place:{type:"Int"},tagged_action:{type:"Int"},tagged_object:{type:"Int"},tagged_object_str:{type:"String"},tagged_action_icon:{type:"Int"},tagged_feed_topics:{type:"StringVector"},attribution:{type:"Int"},privacy:{type:"String"},messaging_tags:{type:"StringVector"},ft:{type:"HackType"},internalextra:{type:"StringToStringMap"},internal_preview_image_id:{type:"Int"},share_now:{type:"Bool",defaultValue:!1},is_forced_reshare_of_post:{type:"Bool",defaultValue:!1},is_throwback_post:{type:"Bool",defaultValue:!1},targeted_privacy_data:{type:"HackType"},unpublished_content_type:{type:"Enum",enumType:0},branded_content_repost_root:{type:"Int"},share_to_group_as_page:{type:"Bool",defaultValue:!1},shared_to_group_id:{type:"Int"},civic_product_source:{type:"String"},holiday_card_source:{type:"Enum",enumType:1},shared_from_post_id:{type:"Int"},logging_session_id:{type:"String"},section_name:{type:"String"},perform_messenger_logging:{type:"Bool",defaultValue:!1},video_start_time_ms:{type:"Int"},instant_game_entry_point_data:{type:"String"},is_app_content_token:{type:"Bool",defaultValue:!1}})}),null);
__d("EventMessageFriendsContainer.react",["AsyncRequest","EventMessageFriendsActionsLogger","EventMessageFriendsCard.react","EventsActionsLogger","React","ReactComposerContextConfig","ReactComposerInit","ReactComposerStatusStore","XEventMessageFriendsSubmitController"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(a){var c=a.getUniqueID(),e=d.state.entries;c=d.$6(e,c);if(c)return;e.push(a);d.$7(e.map(function(a){return a.getUniqueID()}));d.setState({entries:e});d.$1||(b("EventMessageFriendsActionsLogger").logAddEntryAttempt(d.props.eventID,{action_history:[{surface:b("EventsActionsLogger").Surface.PERMALINK,mechanism:b("EventsActionsLogger").Mechanism.MESSAGE_FRIENDS_CARD}]}),d.$1=!0)};d.$3=function(a){var b=a.getUniqueID(),c=d.state.entries;b=d.$6(c,b);b&&c.splice(c.indexOf(a),1);d.$7(c.map(function(a){return a.getUniqueID()}));c.length===0&&d.$8();d.setState({entries:c})};d.$4=function(){b("EventMessageFriendsActionsLogger").logClickOnSendButton(d.props.eventID,{action_history:[{surface:b("EventsActionsLogger").Surface.PERMALINK,mechanism:b("EventsActionsLogger").Mechanism.MESSAGE_FRIENDS_CARD}]});d.setState({sendingMessage:!0,messageFailed:!1});var a=d.$9();a=b("XEventMessageFriendsSubmitController").getURIBuilder().setInt("post_id",d.props.eventID).setString("message",a).setInt("share_type",7).setIntVector("audience_targets",d.state.audienceTargets).setString("audience_type","message");new(b("AsyncRequest"))(a.getURI()).setHandler(function(a){d.setState({entries:[],audienceTargets:[],sendingMessage:!1}),b("ReactComposerInit").resetComposer(d.props.contextConfig.composerID),d.$1=!1}).setErrorHandler(function(a){d.setState({messageFailed:!0,sendingMessage:!1})}).send()};d.$5=function(){d.setState({entries:[],audienceTargets:[]})};d.state={entries:[],audienceTargets:[],sendingMessage:!1,messageFailed:!1};return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=!1};d.componentDidMount=function(){b("EventMessageFriendsActionsLogger").logViewOnMessageFriendsCard(this.props.eventID,{action_history:[{surface:b("EventsActionsLogger").Surface.PERMALINK,mechanism:b("EventsActionsLogger").Mechanism.MESSAGE_FRIENDS_CARD}]})};d.render=function(){return g.jsx(b("EventMessageFriendsCard.react"),babelHelpers["extends"]({},this.props,{entries:this.state.entries,sendingMessage:this.state.sendingMessage,onAddEntryAttempt:this.$2,onRemoveEntryAttempt:this.$3,onSend:this.$4,onClearTypeahead:this.$5,messageFailed:this.state.messageFailed}))};d.$6=function(a,b){return a.some(function(a){return a.getUniqueID()===b})};d.$7=function(a){if(a.length===0)return;this.setState({audienceTargets:a})};d.$8=function(){this.setState({audienceTargets:[]})};d.$9=function(){return b("ReactComposerStatusStore").getMessage(this.props.contextConfig.composerID)};return c}(g.Component);e.exports=a}),null);
__d("EventMessageFriendsRoot.react",["CurrentUser","EventCardWithLogging.react","EventMessageFriendsContainer.react","EventsActionsLogger","React","configureTimezones","uniqueID"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("configureTimezones")(),this.$1=b("uniqueID")()};d.render=function(){var a=this.props,c=a.actionContext,d=a.eventID,e=a.viewerTimezone;a=a.isHappeningNow;var f=b("CurrentUser").getAccountID(),h={actorID:f,composerID:this.$1,composerType:"event",gks:{},targetID:d};return g.jsx(b("EventCardWithLogging.react"),{actionContext:c,actionTarget:b("EventsActionsLogger").Target.PERMALINK_CARD,eventID:d,children:g.jsx(b("EventMessageFriendsContainer.react"),{contextConfig:h,eventID:d,userID:f,viewerTimezone:e,isHappeningNow:a})})};return c}(g.Component);e.exports=a}),null);