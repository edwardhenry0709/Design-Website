if (self.CavalryLogger) { CavalryLogger.start_js(["v1aMQ"]); }

__d("isIterable",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&(Array.isArray(a)||typeof a==="string"||typeof a==="object"&&a.constructor===Object||typeof a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]==="function")}e.exports=a}),null);
__d("AdsICContainsContextualTargetingPredicatePlugin",["immutable","isIterable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List;a={type:"icContextualTargetingPredicate",key:"contains",matches:function(a,c){return b("isIterable")(a)?g(a).includes(c):!1}};e.exports=a}),null);
__d("AdsICEqualsContextualTargetingPredicatePlugin",[],(function(a,b,c,d,e,f){"use strict";a={type:"icContextualTargetingPredicate",key:"equals",matches:function(a,b){return typeof b==="number"&&typeof a==="number"&&a===b}};e.exports=a}),null);
__d("AdsICGreaterThanContextualTargetingPredicatePlugin",[],(function(a,b,c,d,e,f){"use strict";a={type:"icContextualTargetingPredicate",key:"greater_than",matches:function(a,b){return typeof b==="number"&&typeof a==="number"&&a>b}};e.exports=a}),null);
__d("AdsICIsInContextualTargetingPredicatePlugin",["immutable","isIterable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List;a={type:"icContextualTargetingPredicate",key:"is_in",matches:function(a,c){if(b("isIterable")(c))return g(c).includes(a);else if(typeof c==="boolean")return a===c;return!1}};e.exports=a}),null);
__d("AdsICIsNotInContextualTargetingPredicatePlugin",["immutable","isIterable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List;a={type:"icContextualTargetingPredicate",key:"is_not_in",matches:function(a,c){if(a==null)return!0;return b("isIterable")(c)?!g(c).includes(a):!1}};e.exports=a}),null);
__d("AdsICLessThanContextualTargetingPredicatePlugin",[],(function(a,b,c,d,e,f){"use strict";a={type:"icContextualTargetingPredicate",key:"less_than",matches:function(a,b){return typeof b==="number"&&typeof a==="number"&&a<b}};e.exports=a}),null);
__d("AdsICNotContainsContextualTargetingPredicatePlugin",["immutable","isIterable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List;a={type:"icContextualTargetingPredicate",key:"not_contains",matches:function(a,c){if(a==null)return!0;return b("isIterable")(a)?!g(a).includes(c):!1}};e.exports=a}),null);
__d("AdsICNotEqualsContextualTargetingPredicatePlugin",[],(function(a,b,c,d,e,f){"use strict";a={type:"icContextualTargetingPredicate",key:"not_equals",matches:function(a,b){return a==null?!0:typeof b==="number"&&typeof a==="number"&&a!==b}};e.exports=a}),null);
__d("AdsICNotNullContextualTargetingPredicatePlugin",[],(function(a,b,c,d,e,f){"use strict";a={type:"icContextualTargetingPredicate",key:"not_null",matches:function(a,b){return a!==null}};e.exports=a}),null);
__d("AdsICNullContextualTargetingPredicatePlugin",[],(function(a,b,c,d,e,f){"use strict";a={type:"icContextualTargetingPredicate",key:"null",matches:function(a,b){return a===null}};e.exports=a}),null);
__d("AdsICContextualTargetingPredicatePlugins",["adsPluginsFactory","AdsICContainsContextualTargetingPredicatePlugin","AdsICEqualsContextualTargetingPredicatePlugin","AdsICGreaterThanContextualTargetingPredicatePlugin","AdsICIsInContextualTargetingPredicatePlugin","AdsICIsNotInContextualTargetingPredicatePlugin","AdsICLessThanContextualTargetingPredicatePlugin","AdsICNotContainsContextualTargetingPredicatePlugin","AdsICNotEqualsContextualTargetingPredicatePlugin","AdsICNotNullContextualTargetingPredicatePlugin","AdsICNullContextualTargetingPredicatePlugin"],(function(a,b,c,d,e,f){"use strict";a=b("adsPluginsFactory")(function(){return[b("AdsICContainsContextualTargetingPredicatePlugin"),b("AdsICEqualsContextualTargetingPredicatePlugin"),b("AdsICGreaterThanContextualTargetingPredicatePlugin"),b("AdsICIsInContextualTargetingPredicatePlugin"),b("AdsICIsNotInContextualTargetingPredicatePlugin"),b("AdsICLessThanContextualTargetingPredicatePlugin"),b("AdsICNotContainsContextualTargetingPredicatePlugin"),b("AdsICNotEqualsContextualTargetingPredicatePlugin"),b("AdsICNotNullContextualTargetingPredicatePlugin"),b("AdsICNullContextualTargetingPredicatePlugin")]});e.exports=a}),null);
__d("AdsIntelligentComponentsClickMessageActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsIntelligentComponents.CLICK_MESSAGE"}}),null);
__d("AdsIntelligentComponentsCloseMessageActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsIntelligentComponents.CLOSE_MESSAGE"}}),null);
__d("AdsIntelligentComponentsCompleteTourActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsIntelligentComponents.COMPLETE_TOUR"}}),null);
__d("AdsIntelligentComponentsMessagesLoadErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsIntelligentComponents.LOAD_ERROR"}}),null);
__d("AdsIntelligentComponentsMessagesLoadedActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsIntelligentComponents.MESSAGES_LOADED"}}),null);
__d("AdsIntelligentComponentsMountActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsIntelligentComponents.MOUNT"}}),null);
__d("AdsIntelligentComponentsMountingBatchActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsIntelligentComponents.MOUNTING_BATCH"}}),null);
__d("AdsIntelligentComponentsResetMessagesCapActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsIntelligentComponents.RESET_MESSAGES_CAP"}}),null);
__d("AdsIntelligentComponentsTimerProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({timerCycle:0,timerOn:!1});c={initialState:a()};e.exports=c}),null);
__d("AdsIntelligentComponentsTimerProvider",["Laminar","AdsIntelligentComponentsTimerProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsIntelligentComponentsTimerProviderPlugin"),"AdsIntelligentComponentsTimerProviderPlugin")}),null);
__d("AdsIntelligentComponentsTimerStopReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("timerOn",!1).update("timerCycle",function(a){return a+1})}};e.exports=a}),null);
__d("AdsIntelligentComponentsTimerStopAction",["Laminar","AdsIntelligentComponentsTimerStopReducerPlugin","AdsIntelligentComponentsTimerProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsIntelligentComponentsTimerStopReducerPlugin"),b("AdsIntelligentComponentsTimerProvider"),{},"")]},function(){return[]},"AdsIntelligentComponents.STOP_TIMER","laminar");e.exports=a}),null);
__d("AdsIntelligentComponentsTimerStartReducerPlugin",["AdsIntelligentComponentsTimerStopAction","requestIdleCallback","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=10;function h(a){b("requestIdleCallback")(function(){b("setTimeout")(a,g)})}a={reduce:function(a,c){if(a.get("timerOn"))return a;h(function(){return b("AdsIntelligentComponentsTimerStopAction").dispatch({},{line:"37",module:"AdsIntelligentComponentsTimerStartReducerPlugin.js"})});return a.set("timerOn",!0)}};e.exports=a}),null);
__d("AdsIntelligentComponentsTimerStartAction",["Laminar","AdsIntelligentComponentsTimerStartReducerPlugin","AdsIntelligentComponentsTimerProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsIntelligentComponentsTimerStartReducerPlugin"),b("AdsIntelligentComponentsTimerProvider"),{},"")]},function(){return[]},"AdsIntelligentComponents.START_TIMER","laminar");e.exports=a}),null);
__d("AdsIntelligentComponentsTourStepActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsIntelligentComponents.TOUR_STEP"}}),null);
__d("AdsIntelligentComponentsUnmountActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsIntelligentComponents.UNMOUNT"}}),null);
__d("AdsVCCShowDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"VCC.SHOW_DIALOG"}}),null);
__d("AdsICDebuggerContainer.react",["cx","React","Tooltip.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_6eft",children:h.jsx(b("Tooltip.react"),{className:"_6efu",tooltip:this.props.tooltip,children:this.props.children})})};return c}(h.PureComponent);e.exports=a}),null);
__d("AdsICFilterByMessageFormat",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=new Set(a)}var b=a.prototype;b.getInvisibleReason=function(){return"InvalidDeliveryPlacement"};b.shouldHideMessageIfFailsRule=function(){return!0};b.filter=function(a,b){b=a.getFormat();return b!=null&&this.$1.has(b)};return a}();e.exports=a}),null);
__d("AdsICFilterIfDoesNotMatchContextualTargeting",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.getInvisibleReason=function(){return"ClientContextualTargetingFailure"};b.shouldHideMessageIfFailsRule=function(){return!0};b.filter=function(a,b){return a.getIsMatchingContext()};return a}();e.exports=a}),null);
__d("AdsICFilterIfDoesNotPassValidateCondition",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.getInvisibleReason=function(){return"ValidateConditionFailure"};b.shouldHideMessageIfFailsRule=function(){return!0};b.filter=function(a,b){return a.getPassValidateCondition()};return a}();e.exports=a}),null);
__d("AdsICFilterIfInContextualRecsExperiment",[],(function(a,b,c,d,e,f){"use strict";var g="ads_cf_contextual_recommendation_entry";a=function(){function a(){}var b=a.prototype;b.getInvisibleReason=function(){return"ContextualRecsExperiment"};b.shouldHideMessageIfFailsRule=function(){return!0};b.filter=function(a,b){return b.cf_section!=null&&a.getID()!==g&&b.should_show_contextual_recommendation===!0?!1:!0};return a}();e.exports=a}),null);
__d("AdsICFilterIfPreviouslyClosed",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.getInvisibleReason=function(){return"MessageClosed"};b.shouldHideMessageIfFailsRule=function(){return!0};b.filter=function(a,b){return!a.getIsClosed()};return a}();e.exports=a}),null);
__d("AdsICFilterIfUnloaded",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.getInvisibleReason=function(){return"MessageNotFromServer"};b.shouldHideMessageIfFailsRule=function(){return!0};b.filter=function(a,b){return a.getIsLoaded()};return a}();e.exports=a}),null);
__d("AdsICFilterIfUnmounted",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.getInvisibleReason=function(){return"NotMounted"};b.shouldHideMessageIfFailsRule=function(){return!0};b.filter=function(a,b){return a.getIsMounted()};return a}();e.exports=a}),null);
__d("AdsICPassIfAlreadyVisible",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getInvisibleReason=function(){return null};b.shouldHideMessageIfFailsRule=function(){return!1};b.filter=function(a,b){b=a.getVisiblePlacements().has(this.$1);return!b};return a}();e.exports=a}),null);
__d("AdsICFilterIfNoLeftSpace",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getInvisibleReason=function(){return"NoSpace"};b.shouldHideMessageIfFailsRule=function(){return!0};b.filter=function(a,b){return this.$1>0||a.getMustShow()};b.setAvailableCap=function(a){this.$1=a};return a}();e.exports=a}),null);
__d("AdsICFilterFailsAdsMessagingFrameworkGK",["AceMessagingFloatingTipContentPlacementSitevarConfig"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.getInvisibleReason=function(){return"Fail to pass Ads Messaging Framework experiment GK"};c.shouldHideMessageIfFailsRule=function(){return!0};c.filter=function(a,c){c=b("AceMessagingFloatingTipContentPlacementSitevarConfig").messages;c=c.find(function(b){return b.messageID==a.getID()})!=void 0;if(a.getExperiments().ads_messaging_framework==1)return c;else return!c};return a}();e.exports=a}),null);
__d("AdsICFilterFailsIPMHoldoutGK",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.getInvisibleReason=function(){return"Fail to pass IPM holdout Experiment GK"};b.shouldHideMessageIfFailsRule=function(){return!0};b.filter=function(a,b){return a.getExperiments().agp_am_holdout_h1_2020==1};return a}();e.exports=a}),null);
__d("AdsICAGPExperimentFilters",["AdsICFilterFailsAdsMessagingFrameworkGK","AdsICFilterFailsIPMHoldoutGK","AHGLogUtils"],(function(a,b,c,d,e,f){"use strict";var g=[new(b("AdsICFilterFailsIPMHoldoutGK"))(),new(b("AdsICFilterFailsAdsMessagingFrameworkGK"))()],h="Fails AGP GKs.";a=function(){function a(){}var c=a.prototype;c.getInvisibleReason=function(){return h};c.shouldHideMessageIfFailsRule=function(){return!0};c.filter=function(a,c){if(a.getIsInjected())return!0;var d=!0,e="";g.forEach(function(b){var f=b.filter(a,c);if(!f){e+=((b=b.getInvisibleReason())!=null?b:"")+","}d=d&&f});a.getAYMTData()&&b("AHGLogUtils").logExperimentResult(a,c,d?"normal":"shadow",e);return d};return a}();e.exports=a}),null);
__d("AdsIntelligentComponentsUtils",[],(function(a,b,c,d,e,f){"use strict";a={getTipParams:function(a){return{context:a,placement:"aymt_tips"}},getFAQParams:function(a){return{context:a,placement:"help_articles"}},getSavedMessagesParams:function(a){return{context:a,placement:"SAVED_MESSAGES_PANE"}},convertContext:function(a){return JSON.stringify(a)}};e.exports=a}),null);
__d("XAdsInProductGuidanceAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/advertiser_guidance/server_msg/",{context:{type:"String",required:!0},placement:{type:"String"},inject_tip:{type:"String"},enable_stages:{type:"StringSet"},enable_for_test_users:{type:"Bool",defaultValue:!1},pathname:{type:"String"}})}),null);
__d("AdsIntelligentComponentsDataLoader",["Promise","AdsHelpTrayUtils","AdsIntelligentComponentsUtils","AsyncRequest","URIInitDataUtil","XAdsCMTipQEAsyncController","XAdsInProductGuidanceAsyncController"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=b("AdsIntelligentComponentsUtils").convertContext(a.context),d=b("XAdsInProductGuidanceAsyncController").getURIBuilder().setString("context",c).setString("placement",a.placement).setString("inject_tip",b("URIInitDataUtil").getDefaultInjectTip()).setStringSet("enable_stages",b("URIInitDataUtil").getDefaultEnableStages()).setString("pathname",b("AdsHelpTrayUtils").getReleventArticlesProcessedURL()).getURI();return new(b("Promise"))(function(a,c){return new(b("AsyncRequest"))().setURI(d).setAllowCrossPageTransition(!0).setErrorHandler(function(a){return c(a.errorDescription)}).setHandler(function(b){a(b.payload)}).send()})};c=function(a,c){a=b("XAdsCMTipQEAsyncController").getURIBuilder().setString("tip_id",a).setString("channel_id",c).getURI();new(b("AsyncRequest"))().setURI(a).setAllowCrossPageTransition(!0).send()};d={loadMessages:a,logExposure:c};e.exports=d}),null);
__d("AdsICFilterIfFailsQE",["AdsIntelligentComponentsDataLoader"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var c=a.prototype;c.getInvisibleReason=function(){return"QENotPassed"};c.shouldHideMessageIfFailsRule=function(){return!0};c.filter=function(a,c){c=a.getAYMTData();if(c&&!this.$1.has(a.getID())){var d=c.tip_id;c=c.channel_id;d!=null&&c!=null&&(this.$1.add(a.getID()),b("AdsIntelligentComponentsDataLoader").logExposure(d,c))}return a.getQEState()};return a}();e.exports=a}),null);
__d("AdsICPlacement",["AdsICAGPExperimentFilters","AdsICFilterIfFailsQE","AHGLogUtils","AYMTClientSideLogging","immutable","isTruthy"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){d===void 0&&(d=[]),this.$1=a,this.$2=c,this.__visibleMessages=b("immutable").OrderedSet(),this.__visibleMessagesInMessageGroups=b("immutable").Map().withMutations(function(a){d.forEach(function(c){return a.set(c,b("immutable").OrderedSet())})}),this.$5=new Map(),this.$3=new(b("AdsICFilterIfFailsQE"))(),this.$4=new(b("AdsICAGPExperimentFilters"))()}var c=a.prototype;c.getName=function(){return this.$1};c.__deleteVisibleMessage=function(a,b){this.__visibleMessages=this.__visibleMessages["delete"](a),b!=null&&(this.__visibleMessagesInMessageGroups=this.__visibleMessagesInMessageGroups.set(b,this.__visibleMessagesInMessageGroups.get(b)["delete"](a)))};c.__addVisibleMessage=function(a){var b=a.getID();this.__visibleMessages=this.__visibleMessages.add(b);a=a.getMessageGroup();a!=null&&(this.__visibleMessagesInMessageGroups=this.__visibleMessagesInMessageGroups.set(a,this.__visibleMessagesInMessageGroups.get(a).add(b)))};c.__hideUnknownMessages=function(a){var b=this,c=this.__visibleMessages.subtract(a.getMessageIDs());c.forEach(function(c){var d,e=a.getMessage(c);e&&(d=e.getMessageGroup());b.__deleteVisibleMessage(c,d)})};c.updateVisibleMessages=function(a,b,c){c===void 0&&(c=!0);this.__hideUnknownMessages(a);a=this.__applyAllRules(a,b);a=a.sortByScore();this.__customLogicForShowingMessage(a,b,c);return this.__visibleMessages};c.getInvisibleReason=function(a){return this.$5.get(a)};c.__customLogicForShowingMessage=function(a,b,c){var d=this;a.getAll().forEach(function(a){d.__checkQEAndShowMessage(a,b,c)})};c.__applyAllRules=function(a,b){var c=this,d,e=a;this.$2.forEach(function(a){d=e.filter(function(c){return a.filter(c,b)});e.getAll().forEach(function(b){d.hasMessage(b.getID())||c.__updateInvalidMessage(a,b)});e=d;if(d.getAll().isEmpty())return});return e};c.__updateInvalidMessage=function(a,c){var d=a.getInvisibleReason();b("isTruthy")(d)&&this.$5.set(c.getID(),d);a.shouldHideMessageIfFailsRule()&&this.$6(c)};c.__checkQEAndShowMessage=function(a,b,c){if(!this.$3.filter(a,b)){this.__updateInvalidMessage(this.$3,a);return}if(!c)return;if(!this.$4.filter(a,b)){this.__updateInvalidMessage(this.$4,a);this.__showMessage(a,!0);return}this.$5["delete"](a.getID());this.__showMessage(a,!1)};c.__addNewVisibleMessageIfEligible=function(a,b){if(b)return!1;if(this.__visibleMessages.has(a.getID()))return!1;this.__addVisibleMessage(a);return!0};c.__showMessage=function(a,c){c=this.__addNewVisibleMessageIfEligible(a,c);c&&a.aymtData&&(b("AYMTClientSideLogging").logImpressionNew(a.aymtData),b("AHGLogUtils").logImpression(a.getAdObjectID(),a.getFormat(),a.getComponentName(),a.getID(),a.getFBJoinerKey(),this.getName(),a.getMessageGroup(),a.getMessageType(),a.getMessageTypeID(),a.getScore(),a.getExperiments()));return c};c.$6=function(a){this.__visibleMessages.has(a.getID())&&(b("AHGLogUtils").logCloseMessage(a.getFormat(),a.getID(),this.getName(),a.getMessageGroup()),this.__deleteVisibleMessage(a.getID()))};return a}();e.exports=a}),null);
__d("AdsICPlacementWithCap",["AdsICFilterIfNoLeftSpace","AdsICPlacement","AHGLogUtils","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){f===void 0&&(f=b("immutable").Map());c=a.call(this,c,d,Array.from(f.keys()))||this;c.$AdsICPlacementWithCap1=e;c.$AdsICPlacementWithCap2=e;c.$AdsICPlacementWithCap3=new(b("AdsICFilterIfNoLeftSpace"))(c.$AdsICPlacementWithCap2);c.$AdsICPlacementWithCap4=f;c.$AdsICPlacementWithCap5=f;c.$AdsICPlacementWithCap6=f.map(function(a){return new(b("AdsICFilterIfNoLeftSpace"))(a)});return c}var d=c.prototype;d.getAvailableCap=function(){return this.$AdsICPlacementWithCap2};d.resetCap=function(){var a=this,c=this.$AdsICPlacementWithCap1,d=this.__visibleMessages.size;this.$AdsICPlacementWithCap2=c-d;this.$AdsICPlacementWithCap5=this.$AdsICPlacementWithCap4.map(function(b,c){c=a.__visibleMessagesInMessageGroups.get(c).size;return b-c});b("AHGLogUtils").logResetCap(this.getName(),this.$AdsICPlacementWithCap2)};d.__customLogicForShowingMessage=function(a,b,c){a=a.moveWhitelistedToFront();this.$AdsICPlacementWithCap7(a,b,c);this.$AdsICPlacementWithCap8(a)};d.__updateCapIfNewVisibleMessageAdded=function(a,b,c){(a||c)&&this.__updateCap(b)};d.__showMessage=function(b,c){var d=a.prototype.__showMessage.call(this,b,c);this.__updateCapIfNewVisibleMessageAdded(d,b,c);return d};d.__updateCap=function(a){this.$AdsICPlacementWithCap2=Math.max(0,this.$AdsICPlacementWithCap2-1);a=a.getMessageGroup();a!=null&&(this.$AdsICPlacementWithCap5=this.$AdsICPlacementWithCap5.set(a,Math.max(0,this.$AdsICPlacementWithCap5.get(a)-1)))};d.$AdsICPlacementWithCap7=function(a,b,c){var d=this;a.getAll().forEach(function(a){var e=a.getMessageGroup(),f=null;e!=null&&(f=d.$AdsICPlacementWithCap6.get(e),f.setAvailableCap(d.$AdsICPlacementWithCap5.get(e)));d.$AdsICPlacementWithCap3.setAvailableCap(d.$AdsICPlacementWithCap2);e=f==null||f.filter(a,b);var g=d.$AdsICPlacementWithCap3.filter(a,b);e&&g?d.__checkQEAndShowMessage(a,b,c):f!=null&&!e?d.__updateInvalidMessage(f,a):d.__updateInvalidMessage(d.$AdsICPlacementWithCap3,a)})};d.$AdsICPlacementWithCap8=function(a){var c=a.getAll();if(c.size==0||this.__visibleMessages.size==0)return;this.__visibleMessages.forEach(function(a){b("AHGLogUtils").logEligibleMessages(c,a)})};return c}(b("AdsICPlacement"));e.exports=a}),null);
__d("AdsICGenericPlacementBasedOnFormatWithCap",["AdsICFilterByMessageFormat","AdsICFilterIfDoesNotMatchContextualTargeting","AdsICFilterIfDoesNotPassValidateCondition","AdsICFilterIfInContextualRecsExperiment","AdsICFilterIfPreviouslyClosed","AdsICFilterIfUnloaded","AdsICFilterIfUnmounted","AdsICPassIfAlreadyVisible","AdsICPlacementWithCap","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){f===void 0&&(f=b("immutable").Map());d=[new(b("AdsICFilterByMessageFormat"))(d),new(b("AdsICFilterIfUnmounted"))(),new(b("AdsICFilterIfPreviouslyClosed"))(),new(b("AdsICFilterIfDoesNotPassValidateCondition"))(),new(b("AdsICFilterIfDoesNotMatchContextualTargeting"))(),new(b("AdsICFilterIfInContextualRecsExperiment"))(),new(b("AdsICPassIfAlreadyVisible"))(c),new(b("AdsICFilterIfUnloaded"))()];return a.call(this,c,d,e,f)||this}return c}(b("AdsICPlacementWithCap"));e.exports=a}),null);
__d("AdsICBadgesPlacement",["AdsICGenericPlacementBasedOnFormatWithCap","AdsInProductGuidanceConfigSitevar","AdsIntelligentComponentsMessageFormat"],(function(a,b,c,d,e,f){"use strict";a=[b("AdsIntelligentComponentsMessageFormat").NEW_BADGE];c=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("BADGES")||0;e.exports=new(b("AdsICGenericPlacementBasedOnFormatWithCap"))("BADGES",a,c)}),null);
__d("AdsICBluesCluesPlacement",["AdsICGenericPlacementBasedOnFormatWithCap","AdsInProductGuidanceConfigSitevar","AdsIntelligentComponentsMessageFormat"],(function(a,b,c,d,e,f){"use strict";a=[b("AdsIntelligentComponentsMessageFormat").BLUE_TIP,b("AdsIntelligentComponentsMessageFormat").BLUE_TOUR];c=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("BLUES_CLUES")||0;e.exports=new(b("AdsICGenericPlacementBasedOnFormatWithCap"))("BLUES_CLUES",a,c)}),null);
__d("AdsICPlacementWithContextualEntryPointAndCap",["AdsICFilterByMessageFormat","AdsICFilterIfDoesNotMatchContextualTargeting","AdsICFilterIfDoesNotPassValidateCondition","AdsICFilterIfInContextualRecsExperiment","AdsICFilterIfUnloaded","AdsICFilterIfUnmounted","AdsICPassIfAlreadyVisible","AdsICPlacementWithCap","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){f===void 0&&(f=b("immutable").Map());d=[new(b("AdsICFilterByMessageFormat"))(d),new(b("AdsICFilterIfUnmounted"))(),new(b("AdsICFilterIfDoesNotPassValidateCondition"))(),new(b("AdsICFilterIfDoesNotMatchContextualTargeting"))(),new(b("AdsICFilterIfInContextualRecsExperiment"))(),new(b("AdsICPassIfAlreadyVisible"))(c),new(b("AdsICFilterIfUnloaded"))()];return a.call(this,c,d,e,f)||this}var d=c.prototype;d.__showMessage=function(a,b){var c=this.__addNewVisibleMessageIfEligible(a,b);this.__updateCapIfNewVisibleMessageAdded(c,a,b);return c};return c}(b("AdsICPlacementWithCap"));e.exports=a}),null);
__d("AdsICFloatingPlacement",["AdsICPlacementWithContextualEntryPointAndCap","AdsIntelligentComponentsMessageFormat","immutable"],(function(a,b,c,d,e,f){"use strict";a=[b("AdsIntelligentComponentsMessageFormat").EDITOR_CARD_FLOATING];c=5e4;f=b("immutable").Map((d={},d.CREATION_AND_EDITING_L1=c,d.CREATION_AND_EDITING_L2=c,d.CREATION_AUDIENCE=c,d.CREATION_L2_SIDEBAR=c,d.CREATION_L3_HEADER=c,d.DELIVERY_OPTIMIZATION=c,d.DUPLICATION=c,d.EDITING_L3=c,d.EXPORT=c,d.IMPORT=c,d.INSIGHTS_TRAY=c,d.NOT_IN_ADS_MANAGER=c,d.OBJECTIVE=c,d.PLACEMENT=c,d.PUBLISHING_RECEIPT=c,d.QUICK_CREATION=c,d));e.exports=new(b("AdsICPlacementWithContextualEntryPointAndCap"))("EDITOR_CARD_FLOATING_TIP",a,c,f)}),null);
__d("AdsICInFlowPlacement",["AdsICGenericPlacementBasedOnFormatWithCap","AdsInProductGuidanceConfigSitevar","AdsIntelligentComponentsMessageFormat","immutable"],(function(a,b,c,d,e,f){"use strict";a=[b("AdsIntelligentComponentsMessageFormat").INLINE];c=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("IN_FLOW")||0;f=b("immutable").Map((d={},d.CREATION_AND_EDITING_L1=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("CREATION_AND_EDITING_L1")||0,d.CREATION_AND_EDITING_L2=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("CREATION_AND_EDITING_L2")||0,d.CREATION_AUDIENCE=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("CREATION_AUDIENCE")||0,d.CREATION_L2_SIDEBAR=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("CREATION_L2_SIDEBAR")||0,d.CREATION_L3_HEADER=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("CREATION_L3_HEADER")||0,d.DELIVERY_OPTIMIZATION=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("DELIVERY_OPTIMIZATION")||0,d.DUPLICATION=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("DUPLICATION")||0,d.EDITING_L3=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("EDITING_L3")||0,d.EXPORT=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("EXPORT")||0,d.IMPORT=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("IMPORT")||0,d.INSIGHTS_TRAY=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("INSIGHTS_TRAY")||0,d.NOT_IN_ADS_MANAGER=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("NOT_IN_ADS_MANAGER")||0,d.OBJECTIVE=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("OBJECTIVE")||0,d.PLACEMENT=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("PLACEMENT")||0,d.PUBLISHING_RECEIPT=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("PUBLISHING_RECEIPT")||0,d.QUICK_CREATION=b("AdsInProductGuidanceConfigSitevar").cap_per_type.get("QUICK_CREATION")||0,d));e.exports=new(b("AdsICGenericPlacementBasedOnFormatWithCap"))("IN_FLOW",a,c,f)}),null);
__d("AdsICMessage",["immutable"],(function(a,b,c,d,e,f){"use strict";a={id:"",visiblePlacements:b("immutable").Set(),isMounted:!1,isLoaded:!1,isClosed:!1,passValidateCondition:!0,isMatchingContext:!0,adObjectID:null,format:null,componentName:"",messageGroup:void 0,messageType:null,messageTypeID:null,aymtData:null,mustShow:!1,fbJoinerKey:null,score:1,experiments:{},qeState:!1,opResult:null,isInjected:void 0};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getID=function(){return this.get("id")};c.getVisiblePlacements=function(){return this.get("visiblePlacements")};c.getIsVisibleForPlacement=function(a){return this.getVisiblePlacements().has(a)};c.getIsMounted=function(){return this.get("isMounted")};c.getIsLoaded=function(){return this.get("isLoaded")};c.getIsClosed=function(){return this.get("isClosed")};c.getPassValidateCondition=function(){return this.get("passValidateCondition")};c.getIsMatchingContext=function(){return this.get("isMatchingContext")};c.getAdObjectID=function(){return this.get("adObjectID")};c.getFormat=function(){return this.get("format")};c.getComponentName=function(){return this.get("componentName")};c.getMessageGroup=function(){return this.get("messageGroup")};c.getMessageType=function(){return this.get("messageType")};c.getMessageTypeID=function(){return this.get("messageTypeID")};c.getAYMTData=function(){return this.get("aymtData")};c.getMustShow=function(){return this.get("mustShow")};c.getFBJoinerKey=function(){return this.get("fbJoinerKey")};c.getScore=function(){return this.get("score")};c.getExperiments=function(){return this.get("experiments")};c.getQEState=function(){return this.get("qeState")};c.getOPResult=function(){return this.get("opResult")};c.getIsInjected=function(){return this.get("isInjected")};c.addVisiblePlacement=function(a){return this.setVisiblePlacements(this.getVisiblePlacements().add(a))};c.setVisiblePlacements=function(a){return this.set("visiblePlacements",a)};c.setIsMounted=function(a){return this.set("isMounted",a)};c.setIsLoaded=function(a){return this.set("isLoaded",a)};c.setIsClosed=function(a){return this.set("isClosed",a)};c.setPassValidateCondition=function(a){return this.set("passValidateCondition",a)};c.setIsMatchingContext=function(a){return this.set("isMatchingContext",a)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("AdsICMessagesMap",["immutable"],(function(a,b,c,d,e,f){"use strict";a={messagesMap:b("immutable").OrderedMap()};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.setMessage=function(a,b){return this.setMessagesMap(this.getMessagesMap().set(a,b))};c.addMessage=function(a){return this.setMessage(a.getID(),a)};c.removeMessage=function(a){return this.setMessagesMap(this.getMessagesMap()["delete"](a))};c.setMessagesMap=function(a){return this.set("messagesMap",a)};c.filter=function(a){return this.setMessagesMap(this.getMessagesMap().filter(a))};c.sortByScore=function(){return this.setMessagesMap(this.getMessagesMap().sortBy(function(a){return-a.getScore()}))};c.moveWhitelistedToFront=function(){return this.setMessagesMap(this.getMessagesMap().sortBy(function(a){return a.getMustShow()?-1:0}))};c.hasMessage=function(a){return this.getMessagesMap().has(a)};c.getMessage=function(a){return this.getMessagesMap().get(a)};c.getMessagesMap=function(){return this.get("messagesMap")};c.getAll=function(){return this.getMessagesMap()};c.getMessageIDs=function(){return this.getMessagesMap().keySeq().toArray()};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("AdsIntelligentComponentsMessageContentStore",["AdsDataAtom","AdsIntelligentComponentsMessagesLoadedActionFlux","FluxMapStore","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[b("AdsIntelligentComponentsMessagesLoadedActionFlux").actionType]};d.reduce=function(a,c){var d=this,e=c.action;switch(e.type){case b("AdsIntelligentComponentsMessagesLoadedActionFlux").actionType:return a.withMutations(function(a){var c=e.loadedData.messages;c.aymt_tips&&Object.keys(c.aymt_tips).forEach(function(b){return a.set(b,{aymt_tip:c.aymt_tips[b].metadata,fbjoiner_key:c.aymt_tips[b].fbjoiner_key,help_article:d.getHelpArticle(b),saved_message:d.getSavedMessage(b)})});c.help_articles&&Object.keys(c.help_articles).forEach(function(e){return a.set(e,{help_article:b("nullthrows")(c.help_articles)[e].metadata,saved_message:d.getSavedMessage(e),aymt_tip:d.getAYMTTip(e),fbjoiner_key:d.getFBJoinerKey(e)})});c.SAVED_MESSAGES_PANE&&Object.keys(c.SAVED_MESSAGES_PANE).forEach(function(e){return a.set(e,{saved_message:b("nullthrows")(c.SAVED_MESSAGES_PANE)[e].metadata,help_article:d.getHelpArticle(e),aymt_tip:d.getAYMTTip(e),fbjoiner_key:d.getFBJoinerKey(e)})})});default:return a}};d.getAYMTTip=function(a){a=this.get(a);return a?a.aymt_tip:null};d.getHelpArticle=function(a){a=this.get(a);return a?a.help_article:null};d.getSavedMessage=function(a){a=this.get(a);return a?a.saved_message:null};d.getFBJoinerKey=function(a){a=this.get(a);return a?a.fbjoiner_key:null};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsIntelligentComponentsTargeting",["AdsICContextualTargetingPredicatePlugins"],(function(a,b,c,d,e,f){"use strict";var g={getValueFromContextByFields:function(a,b){return!b.hasIn(a)?null:b.getIn(a)},isMessageMatchingContext:function(a,b){if(a==null)return!0;var c=a.contextual_targeting_spec,d=a.targeting_spec_condition_type,e=a.targeting_spec==null?0:a.version;a=e<2?null:a.targeting_spec;switch(e){case 2:return a==null?!0:h(b,a);case 0:case 1:default:return h(b,Object.freeze({condition_type:d,rules:c,rule_groups:[]}))}}};function h(a,b){switch(b.condition_type){case"any_of":return b.rules.some(function(b){return i(b,a)})||b.rule_groups.some(function(b){return h(a,b)});case"all_of":default:return b.rules.every(function(b){return i(b,a)})&&b.rule_groups.every(function(b){return h(a,b)})}}function i(a,c){c=g.getValueFromContextByFields(a.context_field,c);return b("AdsICContextualTargetingPredicatePlugins").get(a.predicate).matches(c,a.value)}e.exports=g}),null);
__d("AdsIntelligentComponentsDeliveryController",["AdsICBadgesPlacement","AdsICBluesCluesPlacement","AdsICFloatingPlacement","AdsICInFlowPlacement","AdsICMessage","AdsICMessagesMap","AdsICPlacementWithCap","AdsIntelligentComponentsMessageContentStore","AdsIntelligentComponentsTargeting","AdsIntelligentComponentsTimerStartAction","immutable","isTruthy","requestIdleCallback","throttle"],(function(a,b,c,d,e,f){"use strict";var g=b("throttle")(function(a){b("requestIdleCallback")(a)});a=function(){function a(){var a=this;this.$8=0;this.$1=b("immutable").Set([b("AdsICBluesCluesPlacement"),b("AdsICInFlowPlacement"),b("AdsICBadgesPlacement"),b("AdsICFloatingPlacement")]);this.$2=b("immutable").Map().withMutations(function(c){a.$1.forEach(function(a){return c.set(a.getName(),b("immutable").OrderedSet())})})}var c=a.prototype;c.tryStartCycle=function(){g(function(){return b("AdsIntelligentComponentsTimerStartAction").dispatch({},{line:"101",module:"AdsIntelligentComponentsDeliveryController.js"})})};c.canUpdateVisibleMessagesCheck=function(a){var b=this.$8;this.$8=a;return this.$8!==b};c.update=function(a,b,c,d,e,f){var g=this;this.$7!=a&&(this.resetCap(),this.$7=a);this.$3=b;this.$4=c;this.$5=d;this.$6=e;var h=this.$9();this.$1.forEach(function(a){g.$2=g.$2.set(a.getName(),a.updateVisibleMessages(h,g.$6,f))});return this.$2};c.resetCap=function(){this.$1.forEach(function(a){a instanceof b("AdsICPlacementWithCap")&&a.resetCap()});return this};c.getMessageState=function(a){var c,d=this.$3.get(a);c=(c=this.$10())!=null?c[a]:c;var e=b("AdsIntelligentComponentsMessageContentStore").getAYMTTip(a);return!d&&!c&&!e?null:new(b("AdsICMessage"))({id:a,visiblePlacements:this.$11(a),isMounted:!!this.$3.has(a),isLoaded:!!c,isClosed:!!this.$4.has(a),passValidateCondition:!!(d&&d.validateCondition(a)),isMatchingContext:b("AdsIntelligentComponentsTargeting").isMessageMatchingContext(e&&e.ic_targeting_spec,this.$6),adObjectID:this.$6.get("object_id"),format:d&&d.messageFormat,componentName:d&&d.componentName,messageGroup:d&&d.messageGroup,messageType:c&&c.message_type,messageTypeID:c&&c.message_type_id,aymtData:e&&e.aymt_data,mustShow:c&&c.must_show,experiments:c&&c.experiments,fbJoinerKey:b("AdsIntelligentComponentsMessageContentStore").getFBJoinerKey(a),score:c&&c.score,qeState:c&&c.qe_state,isInjected:c&&c.is_injected})};c.getInvisibleReason=function(a){var c;this.$1.forEach(function(d){d=d.getInvisibleReason(a);b("isTruthy")(d)&&d!=="InvalidDeliveryPlacement"&&(c=d)});return c};c.$9=function(){var a=this,c=this.$2.reduce(function(a,b){return a.union(b)},b("immutable").Set(this.$3.keys())),d=new(b("AdsICMessagesMap"))();c.forEach(function(b){b=a.getMessageState(b);b&&(d=d.addMessage(b))});return d};c.$11=function(a){return this.$2.reduce(function(b,c,d){return c.has(a)?b.add(d):b},b("immutable").Set())};c.$10=function(){return this.$5?this.$5.messages&&this.$5.messages.aymt_tips:null};return a}();e.exports=new a()}),null);
__d("AdsIntelligentComponentServerContextTypes",["immutable"],(function(a,b,c,d,e,f){"use strict";c=b("immutable").Record((a={},a.objective=null,a));f=b("immutable").Record((d={},d.creative=null,d));d=b("immutable").Record((a={},a.ad_account_id=null,a.object_id=null,a.campaign_group=c(),a.adgroup=f(),a.cf_section=null,a.create_dialog_open=!1,a.edit_tray_open=!1,a.inspect_campaign_id=null,a.page_id_selected=!1,a.pe_audience_splitting_open=!1,a.pe_pane=null,a.placements_cycle=null,a.rule_dialog_open=!1,a.tags=null,a.tool=null,a));e.exports={AdsAPICampaignGroupServerRecordFactory:c,AdsAPIAdgroupServerRecordFactory:f,AdsIntelligentComponentServerContextRecordFactory:d}}),null);
__d("AdsIntelligentComponentsDataDispatcher",["AdsApplicationUtils","AdsIntelligentComponentsActions","AdsIntelligentComponentsDataLoader","URI","adsAccountGK","isDevelopersURI","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g,h={loadMessages:function(a,c){if(b("AdsApplicationUtils").isFAME())return;if(b("isDevelopersURI")((g||(g=b("URI"))).getRequestURI()))return;if(h._nulladaccount(a)&&b("adsAccountGK")._(c,"cFRO7MuyW"))return;b("promiseDone")(b("AdsIntelligentComponentsDataLoader").loadMessages(a),function(c){b("AdsIntelligentComponentsActions").dispatchMessages(a,c)},function(c){b("AdsIntelligentComponentsActions").messagesLoadError(a,c)})},_nulladaccount:function(a){return a.context==null?!0:a.context.get("ad_account_id")==null}};e.exports=h}),null);
__d("AdsIntelligentComponentsServerMessagesStore",["AdsAccountStore","AdsDataAtom","AdsIntelligentComponentsDataDispatcher","AdsIntelligentComponentServerContextTypes","AdsIntelligentComponentsMessageContentStore","AdsIntelligentComponentsMessagesLoadedActionFlux","AdsIntelligentComponentsMessagesLoadErrorActionFlux","AHGLogUtils","FluxLoadObjectStore","clearTimeout","immutable","requestIdleCallback","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsIntelligentComponentServerContextTypes").AdsIntelligentComponentServerContextRecordFactory,h=1e3,i=5,j=0,k=null;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,c){var d=this,e=c.action;switch(e.type){case b("AdsIntelligentComponentsMessagesLoadedActionFlux").actionType:b("clearTimeout")(k);j=0;b("AdsDataAtom").waitFor([b("AdsIntelligentComponentsMessageContentStore").getDispatchToken()]);c=e.loadedData;if(c&&c.messages&&c.messages.aymt_tips){var f=c.messages.aymt_tips;b("AHGLogUtils").logAYMTTipsLoaded(Object.keys(f))}return this.__handleOne(a,this.$AdsIntelligentComponentsServerMessagesStore1(e.params),c);case b("AdsIntelligentComponentsMessagesLoadErrorActionFlux").actionType:b("clearTimeout")(k);if(j<i){k=b("setTimeout")(function(){d.__load(d.$AdsIntelligentComponentsServerMessagesStore1(e.params))},Math.pow(2,j++)*h);return a}else return this.__handleOne(a,this.$AdsIntelligentComponentsServerMessagesStore1(e.params),e.error);default:return a}};d.__load=function(a){a=this.$AdsIntelligentComponentsServerMessagesStore2(a);var c=b("AdsAccountStore").getSelectedAccount().getValue();b("AdsIntelligentComponentsDataDispatcher").loadMessages(a,c)};d.__queueLoadAll=function(c){var d=this;b("requestIdleCallback")(function(){a.prototype.__queueLoadAll.call(d,c)})};d.getMessages=function(a){a=this.get(this.$AdsIntelligentComponentsServerMessagesStore1(a));return a.getValue()};d.$AdsIntelligentComponentsServerMessagesStore1=function(a){var b=Object.assign({},a);a.context&&(b.context=a.context.toJSON());return JSON.stringify(b)};d.$AdsIntelligentComponentsServerMessagesStore2=function(a){a=JSON.parse(a);a.context&&(a.context=g(a.context));return a};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsICDeliveryDebuggerUtils",["AdsICDebuggerContainer.react","Bootloader","React","emptyFunction","gkx","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h;b("requireWeak")("AdsICDeliveryDebugger",function(a){return h=a});a=function(){function a(){this.$1=!1,this.$2=!1,this.$1=!1,this.$2=!1}var c=a.prototype;c.isDebugModeOn=function(){return this.$1};c.isVerboseDebugModeOn=function(){return this.$1&&this.$2};c.setVerboseMode=function(a){a===void 0&&(a=!0),this.$2=a};c.getDebuggerInfoForMessage=function(a){var b="[IC Debugger - "+a+"]";if(h){var c=h.getMessageState(a);if(c)for(var d in c)d!=="id"&&(b+=" - "+d+": "+JSON.stringify(c[d]));b+=" - invisibleReason: "+h.getInvisibleReasonForMessage(a)}return b};c.wrapInDebugContainer=function(a,c){return g.jsx(b("AdsICDebuggerContainer.react"),{tooltip:this.getDebuggerInfoForMessage(a),children:c})};return a}();e.exports=new a()}),null);
__d("AdsIntelligentComponentsStore",["AdsCFNavigationWizardPageShownDataActionFlux","AdsCMPageChangeActionFlux","AdsDataAtom","AdsICDeliveryDebuggerUtils","AdsInProductGuidanceConfigSitevar","AdsIntelligentComponentsActions","AdsIntelligentComponentsClickMessageActionFlux","AdsIntelligentComponentsCloseMessageActionFlux","AdsIntelligentComponentsCompleteTourActionFlux","AdsIntelligentComponentsDeliveryController","AdsIntelligentComponentsMessageContentStore","AdsIntelligentComponentsMountActionFlux","AdsIntelligentComponentsMountingBatchActionFlux","AdsIntelligentComponentsResetMessagesCapActionFlux","AdsIntelligentComponentsTourStepActionFlux","AdsIntelligentComponentsUnmountActionFlux","AdsInterfacesRouteUpdateParamsDataActionFlux","AdsVCCShowDialogDataActionFlux","AHGLogUtils","AYMTClientSideLogging","FBLogger","FluxReduceStore","immutable","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsCFNavigationWizardPageShownDataActionFlux"),h=100,i=b("immutable").Record({mountedContainers:b("immutable").Map(),closedMessages:b("immutable").Set(),resetCapCycle:0});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("AdsDataAtom"))||this;b("AHGLogUtils").logInitStore(JSON.stringify(b("AdsInProductGuidanceConfigSitevar")));return c}var d=c.prototype;d.getInitialState=function(){return i()};d.__getActionTypes=function(){return[b("AdsCFNavigationWizardPageShownDataActionFlux").actionType,b("AdsCMPageChangeActionFlux").actionType,b("AdsIntelligentComponentsClickMessageActionFlux").actionType,b("AdsIntelligentComponentsCloseMessageActionFlux").actionType,b("AdsIntelligentComponentsCompleteTourActionFlux").actionType,b("AdsIntelligentComponentsMountActionFlux").actionType,b("AdsIntelligentComponentsMountingBatchActionFlux").actionType,b("AdsIntelligentComponentsResetMessagesCapActionFlux").actionType,b("AdsIntelligentComponentsTourStepActionFlux").actionType,b("AdsIntelligentComponentsUnmountActionFlux").actionType,b("AdsInterfacesRouteUpdateParamsDataActionFlux").actionType,b("AdsVCCShowDialogDataActionFlux").actionType,g.actionType]};d.$AdsIntelligentComponentsStore1=function(a,b){return a.set("closedMessages",a.get("closedMessages").add(b))};d.$AdsIntelligentComponentsStore2=function(a,c,d,e,f,g){var h=a.get("mountedContainers");h.has(c)||(h=h.set(c,{messageFormat:d,componentName:e,messageGroup:f,validateCondition:g}),b("AHGLogUtils").logMountContainer(d,e,c));return a.set("mountedContainers",h)};d.$AdsIntelligentComponentsStore3=function(a,c){var d=a.get("mountedContainers");d.has(c)&&(b("AHGLogUtils").logUnmountContainer(d.get(c).messageFormat,d.get(c).componentName,c,b("AdsIntelligentComponentsDeliveryController").getInvisibleReason(c),d.get(c).messageGroup),d=d.remove(c),a=a.set("mountedContainers",d));return a};d.$AdsIntelligentComponentsStore4=function(a,c,d,e){e===void 0&&(e=[]);a=b("AdsIntelligentComponentsMessageContentStore").getAYMTTip(a);if(!a){b("FBLogger")("ads").warn(c);return!0}a&&a.aymt_data&&d.apply(void 0,[a.aymt_data].concat(e));return!1};d.reduce=function(a,c){c=c.action;b("AdsICDeliveryDebuggerUtils").isVerboseDebugModeOn()&&c.type.startsWith("AdsIntelligentComponents");switch(c.type){case b("AdsIntelligentComponentsResetMessagesCapActionFlux").actionType:return a.update("resetCapCycle",function(a){return a+1});case b("AdsInterfacesRouteUpdateParamsDataActionFlux").actionType:var d=c.data.isNavigation;d&&b("setTimeout")(function(){return b("AdsIntelligentComponentsActions").resetMessagesCap()},h);return a;case b("AdsCFNavigationWizardPageShownDataActionFlux").actionType:case b("AdsCMPageChangeActionFlux").actionType:b("setTimeout")(function(){return b("AdsIntelligentComponentsActions").resetMessagesCap()},h);return a;case b("AdsVCCShowDialogDataActionFlux").actionType:case g.actionType:b("setTimeout")(function(){return b("AdsIntelligentComponentsActions").resetMessagesCap()},h);return a;case b("AdsIntelligentComponentsMountActionFlux").actionType:d=c.messageID;var e=c.messageFormat,f=c.componentName,i=c.messageGroup,j=c.validateCondition;return this.$AdsIntelligentComponentsStore2(a,d,e,f,i,j);case b("AdsIntelligentComponentsUnmountActionFlux").actionType:d=c.messageID;return this.$AdsIntelligentComponentsStore3(a,d);case b("AdsIntelligentComponentsMountingBatchActionFlux").actionType:e=a;for(var f=0;f<c.changes.length;f++){i=c.changes[f];switch(i.type){case"mount":e=this.$AdsIntelligentComponentsStore2(e,i.messageID,i.messageFormat,i.componentName,i.messageGroup,i.validateCondition);break;case"unmount":e=this.$AdsIntelligentComponentsStore3(e,i.messageID);break}}return e;case b("AdsIntelligentComponentsClickMessageActionFlux").actionType:j=c.messageID;d=this.$AdsIntelligentComponentsStore4(j,"Failed to click message "+j+". It is not visible.",b("AYMTClientSideLogging").logClickNew);return d?a:c.shouldClose?this.$AdsIntelligentComponentsStore1(a,j):a;case b("AdsIntelligentComponentsCloseMessageActionFlux").actionType:i=c.messageID;f=this.$AdsIntelligentComponentsStore4(i,"Failed to close message "+i+". It is not visible.",b("AYMTClientSideLogging").logXoutNew);if(f)return a;e=a.get("mountedContainers");b("AHGLogUtils").logXOut(e.get(i).messageFormat,e.get(i).componentName,i,b("AdsIntelligentComponentsMessageContentStore").getFBJoinerKey(i));return this.$AdsIntelligentComponentsStore1(a,i);case b("AdsIntelligentComponentsCompleteTourActionFlux").actionType:d=c.messageID;j=this.$AdsIntelligentComponentsStore4(d,"Failed to complete tour "+d+". It is not visible.",b("AYMTClientSideLogging").logTourCompleteNew);return j?a:this.$AdsIntelligentComponentsStore1(a,d);case b("AdsIntelligentComponentsTourStepActionFlux").actionType:f=c.messageID;e=c.step;this.$AdsIntelligentComponentsStore4(f,"Failed to step tour "+f+". It is not visible.",b("AYMTClientSideLogging").logTourStepImpressionNew,e);return a;default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsIntelligentComponentContextTypes",["immutable"],(function(a,b,c,d,e,f){"use strict";c=b("immutable").Record((a={},a.ad_account_id=null,a.object_id=null,a.campaign_group=null,a.campaign=null,a.adgroup=null,a.cf_section=null,a.create_dialog_open=!1,a.edit_tray_open=!1,a.page_id_selected=!1,a.pe_audience_splitting_open=!1,a.pe_pane=null,a.placements_cycle=null,a.rule_dialog_open=!1,a.tags=null,a.tool=null,a.catalog_vertical=null,a.instream_ads_cpv_upsell_exp_cell_type=null,a.promoted_object_type=null,a.creation_experience_mode=null,a.has_l3_budget=!1,a.am_message_houldout_qe=null,a.should_show_contextual_recommendation=!1,a.inspect_campaign_id=null,a));e.exports={AdsIntelligentComponentContextRecordFactory:c}}),null);
__d("AdsSelectorBootloadedStore",["AdsBaseBootloadedStore","AdsDataAtom"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.onLoadedSelector=function(a){return this.__onLoadedModule(function(a){return a()},a)};d.loadSelectorPostDispatch=function(a){this.__loadModulePostDispatch(a)};d.__reduce=function(a){a=this.__getModule().getValueEnforcing();b("AdsDataAtom").waitFor(a.getStores().map(function(a){return a.getDispatchToken()}));a.getStores().some(function(a){return a.hasChanged()})&&this.__emitChange()};c.create=function(a){var b=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(c);b.__moduleID=a.getModuleId();return new b(a)};return c}(b("AdsBaseBootloadedStore"));e.exports=a}),null);
__d("adsIntelligentComponentContextBootloadedSelector",["AdsApplicationIDs","AdsIntelligentComponentContextTypes","AdsSelectorBootloadedStore","JSResource","WebApiApplication","adsCreateStoreSelector","killswitch","objectValues"],(function(a,b,c,d,e,f){"use strict";var g;a=b("AdsIntelligentComponentContextTypes").AdsIntelligentComponentContextRecordFactory;var h=(c={},c[(d=b("AdsApplicationIDs")).ADS_POWER_EDITOR]=(f=b("AdsSelectorBootloadedStore")).create((g=b("JSResource"))("adsIntelligentComponentContextSelector").__setRef("adsIntelligentComponentContextBootloadedSelector")),c[d.ADS_CAMPAIGN_MANAGER]=f.create(g("adsCMIntelligentComponentContextSelector").__setRef("adsIntelligentComponentContextBootloadedSelector")),c[d.ADS_CREATIVE_STUDIO]=f.create(g("adsCrStIntelligentComponentContextSelector").__setRef("adsIntelligentComponentContextBootloadedSelector")),c[d.BUSINESS_ACCOUNTS]=f.create(g("adsEMIntelligentComponentContextSelector").__setRef("adsIntelligentComponentContextBootloadedSelector")),c["default"]=f.create(g("adsDefaultIntelligentComponentContextSelector").__setRef("adsIntelligentComponentContextBootloadedSelector")),c),i=a();function j(){var a;return(a=h[b("WebApiApplication").getClientID()])!=null?a:h["default"]}var k=j();d=b("killswitch")("ADS_MANAGER_DELAY_INIT_IC_STORE")?b("adsCreateStoreSelector")([k],function(){return k.onLoadedSelector(i)},{name:e.id}):b("adsCreateStoreSelector")(b("objectValues")(h),function(a){return j().onLoadedSelector(i)},{name:e.id});e.exports=d}),null);
__d("adsIntelligentComponentServerContextSelector",["AdsIntelligentComponentServerContextTypes","adsCreateSelector","adsIntelligentComponentContextBootloadedSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsIntelligentComponentServerContextTypes").AdsAPIAdgroupServerRecordFactory,h=b("AdsIntelligentComponentServerContextTypes").AdsAPICampaignGroupServerRecordFactory,i=b("AdsIntelligentComponentServerContextTypes").AdsIntelligentComponentServerContextRecordFactory;a=b("adsCreateSelector")([b("adsIntelligentComponentContextBootloadedSelector")],function(a){var b={};a.campaign_group!=null&&(b.objective=a.campaign_group.objective);var c={},d=a.adgroup;d!=null&&d[0]&&(c.creative=d[0].creative);b=(d={},d.ad_account_id=a.ad_account_id,d.object_id=a.object_id,d.campaign_group=h(b),d.adgroup=g(c),d.cf_section=a.cf_section,d.create_dialog_open=a.create_dialog_open,d.edit_tray_open=a.edit_tray_open,d.inspect_campaign_id=a.inspect_campaign_id,d.page_id_selected=a.page_id_selected,d.pe_audience_splitting_open=a.pe_audience_splitting_open,d.pe_pane=a.pe_pane,d.placements_cycle=a.placements_cycle,d.rule_dialog_open=a.rule_dialog_open,d.tags=a.tags,d.tool=a.tool,d);return i(b)},{name:e.id});e.exports=a}),null);
__d("adsIntelligentComponentsSelector",["AdsIntelligentComponentsDeliveryController","AdsIntelligentComponentsMessageContentStore","AdsIntelligentComponentsServerMessagesStore","AdsIntelligentComponentsStore","adsStoreToSelector","AdsIntelligentComponentsTimerProvider","AdsIntelligentComponentsUtils","adsCreateSelector","adsCreateStoreSelector","adsIntelligentComponentContextBootloadedSelector","adsIntelligentComponentServerContextSelector","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("AdsIntelligentComponentsTimerProvider").toFluxStore();c=b("adsCreateStoreSelector")([b("AdsIntelligentComponentsStore")],function(){return b("AdsIntelligentComponentsStore").getState()},{name:e.id+".icStoreSelector"});d=b("adsStoreToSelector")(b("AdsIntelligentComponentsMessageContentStore"));var g=b("adsCreateStoreSelector")([b("AdsIntelligentComponentsServerMessagesStore")],function(){return b("AdsIntelligentComponentsServerMessagesStore").getState()},{name:e.id+".serverMsgsStoreSelector"}),h=(f=b("adsCreateSelector"))([g,b("adsIntelligentComponentServerContextSelector")],function(a,c){return b("AdsIntelligentComponentsServerMessagesStore").getMessages(b("AdsIntelligentComponentsUtils").getTipParams(c))},{name:e.id+".currentServerMsgsSelector"});c=[c,h,b("adsIntelligentComponentContextBootloadedSelector")];h=f(c,b("AdsIntelligentComponentsDeliveryController").tryStartCycle,{name:e.id+".cycleStartSelector"});a=f([b("adsStoreToSelector")(a),h],function(a,c){return b("AdsIntelligentComponentsDeliveryController").canUpdateVisibleMessagesCheck(a.get("timerCycle"))},{name:e.id+".canUpdateVisibleMessagesSelector"});var i=f([a].concat(c),function(a,c,d,e){return b("AdsIntelligentComponentsDeliveryController").update(c.get("resetCapCycle"),c.get("mountedContainers"),c.get("closedMessages"),d,e,a)},{name:e.id+".visibleMessagesSelector"});h=function(a,b){b=j(b);return!b||a==null?!1:b.has(a)};h.getStores=function(){return[].concat(j.getStores())};var j=function(a,c,d){c===void 0&&(c=b("adsIntelligentComponentServerContextSelector")());if(a==="help_articles"){var e=b("AdsIntelligentComponentsUtils").getFAQParams(c);e=b("AdsIntelligentComponentsServerMessagesStore").getMessages(e);if(e!=null&&e.messages!=null&&e.messages.help_articles!=null)return b("immutable").OrderedSet(Object.keys(e.messages.help_articles))}else if(a==="SAVED_MESSAGES_PANE"){e=b("AdsIntelligentComponentsUtils").getSavedMessagesParams(c);c=b("AdsIntelligentComponentsServerMessagesStore").getMessages(e);if(c!=null&&c.messages!=null&&c.messages.SAVED_MESSAGES_PANE!=null)return b("immutable").OrderedSet(Object.keys(c.messages.SAVED_MESSAGES_PANE))}else if(a==="BLUES_CLUES"||a==="IN_FLOW"||a==="BADGES"||a==="EDITOR_CARD_FLOATING_TIP"){c=(e=d)!=null?e:i();return c.get(a)}return null};j.getStores=function(){return[].concat(b("adsIntelligentComponentServerContextSelector").getStores(),g.getStores(),i.getStores())};a=b("adsCreateStoreSelector")([],function(a){a===void 0&&(a={});return a},{name:e.id+".messageIDAndPlacementSelector"});c=f([d,a],function(a,b){b=b.messagesIDs;return b.reduce(function(b,c){return babelHelpers["extends"]({},b,(b={},b[c]=(c=(c=a.get(c))==null?void 0:c.aymt_tip)!=null?c:null,b))},{})},{name:e.id+".getAYMTTipsSelector"});d=f([a,b("adsIntelligentComponentServerContextSelector"),i],function(a,b,c){a=a.placement;return j(a,b,c)},{name:e.id+".currentListSelector"});f=f([a,d],function(a,b){a=a.messagesIDs;return!b||!(a==null?void 0:a.length)?[]:a.filter(function(a){return b==null?void 0:b.has(a)})},{name:e.id+".visibleContainerMessagesSelector"});e.exports={getAYMTTipsSelector:c,isVisible:h,currentList:j,visibleContainerMessagesSelector:f}}),null);
__d("AdsIntelligentBlueTipContainerVisible.react",["AdsFluxHooks","AdsIntelligentComponentsActions","AdsIntelligentComponentsMessageFormat","JSResource","React","adsCreateStoreSelector","adsIntelligentComponentsSelector","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";c=b("AdsFluxHooks").adsFluxContainer;var g=b("AdsFluxHooks").useSelectorShallowEqual,h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("AdsIntelligentBlueTipContainerContent.react").__setRef("AdsIntelligentBlueTipContainerVisible.react"));d=b("React");var j=d.useEffect,k=d.useMemo,l=b("adsCreateStoreSelector")(b("adsIntelligentComponentsSelector").isVisible.getStores(),function(a){a=a.messageID;a=b("adsIntelligentComponentsSelector").isVisible(a,"BLUES_CLUES");return{isVisible:a}},{name:e.id+".stateSelector"});function a(a){var c=g(l,k(function(){return{messageID:a.messageID}},[a.messageID]));c=c.isVisible;j(function(){b("AdsIntelligentComponentsActions").mount(a.messageID,b("AdsIntelligentComponentsMessageFormat").BLUE_TIP,"AdsIntelligentBlueTipContainer",a.validateCondition);return function(){return b("AdsIntelligentComponentsActions").unmount(a.messageID)}},[]);a.validateCondition;var d=babelHelpers.objectWithoutPropertiesLoose(a,["validateCondition"]);return c?h.jsx(h.Suspense,{fallback:h.jsx("span",{}),children:h.jsx(i,babelHelpers["extends"]({},d))}):null}e.exports=c(a)}),null);